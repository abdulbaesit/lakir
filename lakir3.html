<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lakir-3</title>
    <link rel="stylesheet" href="lakir3-styles.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>⚪ Lakir-3</h1>
            <p class="subtitle">A strategic 3×3 grid capture game</p>
        </header>
        <div class="game-info">
            <div class="player-info">
                <div class="player player1 active" id="player1">
                    <div class="stone stone1"></div>
                    <span>Player 1</span>
                    <div class="stone-count" id="player1-count">3</div>
                </div>
                <div class="player player2" id="player2">
                    <div class="stone stone2"></div>
                    <span>Player 2</span>
                    <div class="stone-count" id="player2-count">3</div>
                </div>
            </div>
            <div class="game-status" id="gameStatus">
                <span id="statusText">Place your stones to begin!</span>
            </div>
        </div>
        <div class="game-board">
            <div class="graph-container">
                <!-- 3x3 Grid Nodes -->
                <div class="node" id="0,0" data-row="0" data-col="0">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="0,1" data-row="0" data-col="1">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="0,2" data-row="0" data-col="2">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="1,0" data-row="1" data-col="0">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="1,1" data-row="1" data-col="1">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="1,2" data-row="1" data-col="2">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="2,0" data-row="2" data-col="0">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="2,1" data-row="2" data-col="1">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="2,2" data-row="2" data-col="2">
                    <div class="node-content"></div>
                </div>
                <!-- SVG for grid lines -->
                <svg class="edges" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Horizontal lines -->
                    <line x1="20" y1="20" x2="100" y2="20" class="edge" />
                    <line x1="100" y1="20" x2="180" y2="20" class="edge" />
                    <line x1="20" y1="100" x2="100" y2="100" class="edge" />
                    <line x1="100" y1="100" x2="180" y2="100" class="edge" />
                    <line x1="20" y1="180" x2="100" y2="180" class="edge" />
                    <line x1="100" y1="180" x2="180" y2="180" class="edge" />
                    <!-- Vertical lines -->
                    <line x1="20" y1="20" x2="20" y2="100" class="edge" />
                    <line x1="20" y1="100" x2="20" y2="180" class="edge" />
                    <line x1="100" y1="20" x2="100" y2="100" class="edge" />
                    <line x1="100" y1="100" x2="100" y2="180" class="edge" />
                    <line x1="180" y1="20" x2="180" y2="100" class="edge" />
                    <line x1="180" y1="100" x2="180" y2="180" class="edge" />
                </svg>
            </div>
        </div>
        <div class="controls">
            <button id="homeBtn" class="btn btn-home">🏠 Home</button>
            <button id="resetBtn" class="btn btn-reset">🔄 New Game</button>
            <button id="rulesBtn" class="btn btn-rules">📖 Rules</button>
        </div>
    </div>
    <!-- Rules Modal as popup overlay -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <button class="close close-rules-btn" aria-label="Close">×</button>
            <h2>🎮 Game Rules</h2>
            <div class="rules-content">
                <h3>🎯 Objective</h3>
                <ul>
                    <li>Each player has <b>3 stones</b>.</li>
                    <li>The goal is to <b>remove all of the opponent’s stones</b>.</li>
                    <li>A player loses when they have <b>no stones left on the board</b>.</li>
                </ul>
                <h3>⚙️ Game Setup</h3>
                <ul>
                    <li>Players take turns <b>placing one stone at a time</b> on any ⚪ (empty spot).</li>
                    <li>After both players have placed their 3 stones (<b>6 total on board</b>), <b>movement begins</b>.
                    </li>
                </ul>
                <h3>🚶 Movement Rules</h3>
                <ul>
                    <li>Stones can move to an <b>orthogonally adjacent empty ⚪</b>: up, down, left, or right.</li>
                    <li><b>Diagonal movement is not allowed</b>.</li>
                    <li>You <b>cannot move through or onto a space that is already occupied</b>.</li>
                </ul>
                <h3>🎯 Capture Rule</h3>
                <ul>
                    <li>You can <b>capture an opponent's stone</b> if:</li>
                    <ul>
                        <li>Your stone is on one side of a line of 3 ⚪ in a straight row or column.</li>
                        <li>The <b>middle ⚪ is occupied by an opponent’s stone</b>.</li>
                        <li>The <b>far-end ⚪ is empty</b>.</li>
                    </ul>
                    <li>Then, you may <b>jump over the opponent’s stone into the far ⚪</b>.</li>
                    <li>The opponent’s stone is <b>removed from the board</b>.</li>
                    <li>✅ This move is like jumping in checkers, but <b>only allowed orthogonally</b>.</li>
                </ul>
                <h3>🔁 Extra Turn After Capture</h3>
                <ul>
                    <li>A <b>successful capture grants an extra turn</b>.</li>
                    <li>If another capture is immediately possible, the player may <b>continue jumping</b>.</li>
                </ul>
                <h3>⛔ Blocked Moves</h3>
                <ul>
                    <li>If a player has <b>no valid moves</b>, they must <b>skip their turn</b>.</li>
                    <li>You <b>cannot jump over two stones at once</b> or make diagonal captures.</li>
                </ul>
                <h3>🏆 Winning</h3>
                <ul>
                    <li>The game ends when <b>one player has no stones left on the board</b>.</li>
                    <li>The opponent is then <b>declared the winner</b>.</li>
                </ul>
            </div>
        </div>
    </div>
    <script src="lakir3-script.js" defer></script>
</body>

</html>