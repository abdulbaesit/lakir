<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lakīr-3 - 3×3 Capture Game</title>
    <link rel="stylesheet" href="lakir3-styles.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>⚪ Lakīr-3</h1>
            <p class="subtitle">A strategic 3×3 grid capture game</p>
        </header>

        <div class="game-info">
            <div class="player-info">
                <div class="player player1 active" id="player1">
                    <div class="stone stone1"></div>
                    <span>Player 1</span>
                    <div class="stone-count" id="player1-count">3</div>
                </div>
                <div class="player player2" id="player2">
                    <div class="stone stone2"></div>
                    <span>Player 2</span>
                    <div class="stone-count" id="player2-count">3</div>
                </div>
            </div>
            <div class="game-status" id="gameStatus">
                <span id="statusText">Place your stones to begin!</span>
            </div>
        </div>

        <div class="game-board">
            <div class="graph-container">
                <!-- 3x3 Grid Nodes -->
                <div class="node" id="0,0" data-row="0" data-col="0">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="0,1" data-row="0" data-col="1">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="0,2" data-row="0" data-col="2">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="1,0" data-row="1" data-col="0">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="1,1" data-row="1" data-col="1">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="1,2" data-row="1" data-col="2">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="2,0" data-row="2" data-col="0">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="2,1" data-row="2" data-col="1">
                    <div class="node-content"></div>
                </div>
                <div class="node" id="2,2" data-row="2" data-col="2">
                    <div class="node-content"></div>
                </div>

                <!-- Edges -->
                <svg class="edges" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
                    <!-- Horizontal connections -->
                    <line x1="80" y1="50" x2="120" y2="50" class="edge" data-edge="0,0-0,1" />
                    <line x1="180" y1="50" x2="220" y2="50" class="edge" data-edge="0,1-0,2" />
                    <line x1="80" y1="150" x2="120" y2="150" class="edge" data-edge="1,0-1,1" />
                    <line x1="180" y1="150" x2="220" y2="150" class="edge" data-edge="1,1-1,2" />
                    <line x1="80" y1="250" x2="120" y2="250" class="edge" data-edge="2,0-2,1" />
                    <line x1="180" y1="250" x2="220" y2="250" class="edge" data-edge="2,1-2,2" />

                    <!-- Vertical connections -->
                    <line x1="50" y1="80" x2="50" y2="120" class="edge" data-edge="0,0-1,0" />
                    <line x1="50" y1="180" x2="50" y2="220" class="edge" data-edge="1,0-2,0" />
                    <line x1="150" y1="80" x2="150" y2="120" class="edge" data-edge="0,1-1,1" />
                    <line x1="150" y1="180" x2="150" y2="220" class="edge" data-edge="1,1-2,1" />
                    <line x1="250" y1="80" x2="250" y2="120" class="edge" data-edge="0,2-1,2" />
                    <line x1="250" y1="180" x2="250" y2="220" class="edge" data-edge="1,2-2,2" />
                </svg>
            </div>
        </div>

        <div class="controls">
            <button id="homeBtn" class="btn btn-home">🏠 Home</button>
            <button id="resetBtn" class="btn btn-reset">🔄 New Game</button>
            <button id="rulesBtn" class="btn btn-rules">📖 Rules</button>
        </div>

        <!-- Rules Modal -->
        <div id="rulesModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>🎮 Lakīr-3 Game Rules</h2>
                <div class="rules-content">
                    <h3>📋 Objective</h3>
                    <p>Remove all of your opponent's stones. A player loses when they have no stones left on the board.
                    </p>

                    <h3>🎯 Setup</h3>
                    <p>Players take turns placing one stone at a time on any empty cell. After both players have placed
                        their 3 stones, movement begins.</p>

                    <h3>🚶 Movement Rules</h3>
                    <ul>
                        <li>Stones can move to an orthogonally adjacent empty cell (up, down, left, or right)</li>
                        <li>Diagonal movement is not allowed</li>
                        <li>You cannot move through or onto an occupied space</li>
                    </ul>

                    <h3>🎯 Capture Rule</h3>
                    <ul>
                        <li>You can capture an opponent's stone if your stone is on one side of a line of 3 cells in a
                            straight row or column</li>
                        <li>The middle cell must be occupied by an opponent's stone</li>
                        <li>The far-end cell must be empty</li>
                        <li>Jump over the opponent's stone into the far cell</li>
                        <li>The opponent's stone is removed from the board</li>
                    </ul>

                    <h3>🔁 Extra Turn After Capture</h3>
                    <p>A successful capture grants an extra turn. If another capture is immediately possible, the player
                        may continue jumping.</p>

                    <h3>⛔ Blocked Moves</h3>
                    <ul>
                        <li>If a player has no valid moves, they must skip their turn</li>
                        <li>You cannot jump over two stones at once or make diagonal captures</li>
                    </ul>

                    <h3>🏆 Winning</h3>
                    <p>The game ends when one player has no stones left on the board. The opponent is then declared the
                        winner!</p>
                </div>
            </div>
        </div>
    </div>

    <script src="lakir3-script.js" defer></script>
</body>

</html>