<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SƒÅlƒïr - SALER x SQUID GAME</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="saler-styles.css">

    <!-- Apply saved theme immediately to prevent flash -->
    <script>
        (function () {
            let savedTheme = localStorage.getItem('global-theme');
            if (!savedTheme) {
                savedTheme = localStorage.getItem('lakir-theme') ||
                    localStorage.getItem('theme') ||
                    'light';
                localStorage.setItem('global-theme', savedTheme);
                localStorage.removeItem('lakir-theme');
                localStorage.removeItem('theme');
            }
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
</head>

<body>
    <!-- Global Controls -->
    <div class="global-controls">
        <button class="close close-rules-btn control-btn" aria-label="Close" style="display: none;">√ó</button>
        <button id="global-theme-toggle" class="control-btn theme-btn" aria-label="Toggle theme">
            <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
        <button id="global-music-toggle" class="control-btn music-btn" aria-label="Toggle music">
            <i class="fas fa-music"></i>
        </button>
    </div>

    <!-- Music Control Panel -->
    <div id="music-control-panel" class="music-control-panel hidden">
        <div class="music-panel-header">
            <h3>üéµ Squid Game Soundtrack</h3>
            <button id="close-music-panel" class="close-panel-btn">&times;</button>
        </div>
        <div class="music-panel-content">
            <div class="current-track">
                <div class="track-info">
                    <span class="track-label">Now Playing:</span>
                    <span id="current-track-name" class="track-name">No track selected</span>
                </div>
                <div class="track-progress">
                    <span id="current-time">0:00</span>
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                    </div>
                    <span id="total-time">0:00</span>
                </div>
            </div>
            <div class="music-controls">
                <button id="prev-track" class="track-btn" title="Previous Track">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button id="play-pause" class="track-btn play-pause-btn" title="Play/Pause">
                    <i class="fas fa-play"></i>
                </button>
                <button id="next-track" class="track-btn" title="Next Track">
                    <i class="fas fa-step-forward"></i>
                </button>
            </div>
            <div class="track-list">
                <h4>Playlist:</h4>
                <div id="playlist-container" class="playlist-container">
                    <!-- Tracks will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Cosmic Background -->
    <div class="parallax-container">
        <div class="parallax-layer layer-1"></div>
        <div class="parallax-layer layer-2"></div>
        <div class="parallax-layer layer-3"></div>
        <div class="parallax-layer layer-4"></div>
        <div class="parallax-layer layer-5"></div>

        <!-- Floating Particles -->
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>

        <!-- Interactive Grid -->
        <div class="interactive-grid">
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
        </div>

        <!-- Cosmic Effects -->
        <div class="aurora-effect"></div>
        <div class="nebula-clouds"></div>
        <div class="energy-rings"></div>
        <div class="cosmic-dust"></div>
        <div class="stellar-particles"></div>
        <div class="quantum-waves"></div>
        <div class="plasma-orbs"></div>
        <div class="neural-network"></div>
        <div class="holographic-grid"></div>
        <div class="time-portals"></div>
        <div class="crystal-shards"></div>
        <div class="energy-beams"></div>
        <div class="cosmic-strings"></div>
        <div class="dimensional-rifts"></div>
        <div class="quantum-foam"></div>
        <div class="stellar-wind"></div>
    </div>

    <!-- Squid Game Elements -->
    <div class="squid-game-elements">
        <div class="squid-shape circle-shape"></div>
        <div class="squid-shape triangle-shape"></div>
        <div class="squid-shape square-shape"></div>
        <div class="squid-shape circle-shape-2"></div>
        <div class="squid-shape triangle-shape-2"></div>
        <div class="squid-shape square-shape-2"></div>

        <div class="pink-soldier soldier-1"></div>
        <div class="pink-soldier soldier-2"></div>
        <div class="pink-soldier soldier-3"></div>

        <div class="game-mask mask-1"></div>
        <div class="game-mask mask-2"></div>
        <div class="game-mask mask-3"></div>

        <div class="glass-panel panel-1"></div>
        <div class="glass-panel panel-2"></div>
        <div class="glass-panel panel-3"></div>
        <div class="glass-panel panel-4"></div>
        <div class="glass-panel panel-5"></div>
        <div class="glass-panel panel-6"></div>

        <div class="honeycomb-game">
            <div class="honeycomb-cell cell-1"></div>
            <div class="honeycomb-cell cell-2"></div>
            <div class="honeycomb-cell cell-3"></div>
            <div class="honeycomb-cell cell-4"></div>
            <div class="honeycomb-cell cell-5"></div>
            <div class="honeycomb-cell cell-6"></div>
        </div>

        <div class="tug-rope">
            <div class="rope-segment segment-1"></div>
            <div class="rope-segment segment-2"></div>
            <div class="rope-segment segment-3"></div>
            <div class="rope-segment segment-4"></div>
        </div>

        <div class="marbles-container">
            <div class="marble marble-1"></div>
            <div class="marble marble-2"></div>
            <div class="marble marble-3"></div>
            <div class="marble marble-4"></div>
            <div class="marble marble-5"></div>
            <div class="marble marble-6"></div>
        </div>

        <div class="doll-container">
            <div class="doll-head"></div>
            <div class="doll-body"></div>
            <div class="doll-arm arm-left"></div>
            <div class="doll-arm arm-right"></div>
            <div class="doll-eye eye-left"></div>
            <div class="doll-eye eye-right"></div>
        </div>

        <div class="vip-chair chair-1"></div>
        <div class="vip-chair chair-2"></div>
        <div class="vip-chair chair-3"></div>

        <div class="money-pile pile-1"></div>
        <div class="money-pile pile-2"></div>
        <div class="money-pile pile-3"></div>

        <div class="arena-light light-1"></div>
        <div class="arena-light light-2"></div>
        <div class="arena-light light-3"></div>
        <div class="arena-light light-4"></div>

        <div class="squid-logo">
            <div class="logo-circle"></div>
            <div class="logo-triangle"></div>
            <div class="logo-square"></div>
        </div>

        <div class="player-number number-456">456</div>
        <div class="player-number number-067">067</div>
        <div class="player-number number-001">001</div>

        <div class="game-instruction instruction-1">Red Light</div>
        <div class="game-instruction instruction-2">Green Light</div>
        <div class="game-instruction instruction-3">Move Forward</div>

        <div class="elimination-effect elim-1"></div>
        <div class="elimination-effect elim-2"></div>
        <div class="elimination-effect elim-3"></div>

        <div class="money-counter">
            <div class="counter-digit">‚Ç©</div>
            <div class="counter-digit">4</div>
            <div class="counter-digit">5</div>
            <div class="counter-digit">6</div>
            <div class="counter-digit">,</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">,</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">,</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
        </div>

        <div class="game-timer">
            <div class="timer-display">00:00</div>
            <div class="timer-progress"></div>
        </div>

        <div class="camera camera-1">
            <div class="camera-body">
                <div class="camera-lens"></div>
                <div class="camera-light"></div>
            </div>
        </div>
        <div class="camera camera-2">
            <div class="camera-body">
                <div class="camera-lens"></div>
                <div class="camera-light"></div>
            </div>
        </div>
        <div class="camera camera-3">
            <div class="camera-body">
                <div class="camera-lens"></div>
                <div class="camera-light"></div>
            </div>
        </div>

        <div class="guard-tower tower-1">
            <div class="tower-base"></div>
            <div class="tower-top"></div>
            <div class="guard-spotlight"></div>
        </div>
        <div class="guard-tower tower-2">
            <div class="tower-base"></div>
            <div class="tower-top"></div>
            <div class="guard-spotlight"></div>
        </div>

        <div class="arena-fence fence-top"></div>
        <div class="arena-fence fence-bottom"></div>
        <div class="arena-fence fence-left"></div>
        <div class="arena-fence fence-right"></div>

    </div>

    <div class="container">
        <header>
            <h1>SƒÅlƒïr</h1>
            <p class="subtitle">Trap your opponent on the digit "4"!</p>
            <p class="etymology">From Pashto "SƒÅl≈çr" (four) - a unique board where path-blocking is the main strategy
            </p>
        </header>

        <div class="game-info">
            <div class="player-info">
                <div class="player player1 active" id="player1">
                    <div class="stone stone1"></div>
                    <span>Player 1</span>
                </div>
                <div class="player player2" id="player2">
                    <div class="stone stone2"></div>
                    <span>Player 2</span>
                </div>
            </div>
            <div class="game-status" id="gameStatus">
                <span id="statusText">Player 1, place your stone!</span>
            </div>
        </div>

        <div class="game-board">
            <div class="graph-container">
                <!-- Node A (top) -->
                <div class="node" id="A" data-node="A">
                    <div class="node-content"></div>
                </div>

                <!-- Node B (left middle) -->
                <div class="node" id="B" data-node="B">
                    <div class="node-content"></div>
                </div>

                <!-- Node C (center) -->
                <div class="node" id="C" data-node="C">
                    <div class="node-content"></div>
                </div>

                <!-- Node D (bottom) -->
                <div class="node" id="D" data-node="D">
                    <div class="node-content"></div>
                </div>

                <!-- Node E (right middle) -->
                <div class="node" id="E" data-node="E">
                    <div class="node-content"></div>
                </div>

                <!-- Edges -->
                <svg class="edges desktop-edges" viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg">
                    <!-- A to B -->
                    <line x1="250" y1="40" x2="85" y2="187" class="edge" data-edge="A-B" />
                    <!-- A to C -->
                    <line x1="250" y1="40" x2="250" y2="187" class="edge" data-edge="A-C" />
                    <!-- B to C -->
                    <line x1="85" y1="187" x2="250" y2="187" class="edge" data-edge="B-C" />
                    <!-- C to E -->
                    <line x1="250" y1="187" x2="415" y2="187" class="edge" data-edge="C-E" />
                    <!-- C to D -->
                    <line x1="250" y1="187" x2="250" y2="332" class="edge" data-edge="C-D" />
                </svg>

                <!-- Mobile Edges -->
                <svg class="edges mobile-edges" viewBox="0 0 300 225" xmlns="http://www.w3.org/2000/svg">
                    <!-- A to B -->
                    <line x1="150" y1="37.5" x2="75" y2="112.5" class="edge" data-edge="A-B" />
                    <!-- A to C -->
                    <line x1="150" y1="37.5" x2="150" y2="112.5" class="edge" data-edge="A-C" />
                    <!-- B to C -->
                    <line x1="75" y1="112.5" x2="150" y2="112.5" class="edge" data-edge="B-C" />
                    <!-- C to E -->
                    <line x1="150" y1="112.5" x2="225" y2="112.5" class="edge" data-edge="C-E" />
                    <!-- C to D -->
                    <line x1="150" y1="112.5" x2="150" y2="187.5" class="edge" data-edge="C-D" />
                </svg>

                <!-- Small Mobile Edges -->
                <svg class="edges small-mobile-edges" viewBox="0 0 250 187" xmlns="http://www.w3.org/2000/svg">
                    <!-- A to B -->
                    <line x1="125" y1="5" x2="25" y2="93.75" class="edge" data-edge="A-B" />
                    <!-- A to C -->
                    <line x1="125" y1="5" x2="125" y2="93.75" class="edge" data-edge="A-C" />
                    <!-- B to C -->
                    <line x1="25" y1="93.75" x2="125" y2="93.75" class="edge" data-edge="B-C" />
                    <!-- C to E -->
                    <line x1="125" y1="93.75" x2="225" y2="93.75" class="edge" data-edge="C-E" />
                    <!-- C to D -->
                    <line x1="125" y1="93.75" x2="125" y2="182" class="edge" data-edge="C-D" />
                </svg>
            </div>
        </div>

        <div class="controls">
            <button id="homeBtn" class="btn btn-home">üè† Home</button>
            <button id="resetBtn" class="btn btn-reset">üîÑ New Game</button>
            <button id="rulesBtn" class="btn btn-rules">üìñ Rules</button>
        </div>
    </div>

    <!-- Rules Modal as popup overlay -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <button class="close close-rules-btn" aria-label="Close">√ó</button>
            <h2>üïπÔ∏è SƒÅlƒïr ‚Äì Rules</h2>
            <div class="rules-content">
                <p class="etymology-note"><em>From Pashto "SƒÅl≈çr" (four) ‚Äî a unique board where path-blocking is the
                        main strategy</em></p>
                <h3>üìã Objective</h3>
                <p>Trap your opponent so they cannot make a move on their turn.</p>
                <h3>üéØ Setup</h3>
                <p>Players take turns placing their stones on unoccupied nodes of the digit "4" shaped graph.</p>
                <h3>üîÑ Gameplay</h3>
                <ul>
                    <li>Players alternate turns moving their stones</li>
                    <li>Move your stone to any adjacent node connected by a path</li>
                    <li>You cannot move into or through the opponent's node</li>
                    <li>You must move if you have a legal move</li>
                </ul>
                <h3>‚õî Restrictions</h3>
                <ul>
                    <li>Stones cannot share a node</li>
                    <li>Cannot move over opponent's stone</li>
                    <li>Only move to directly connected nodes</li>
                </ul>
                <h3>üèÜ Winning</h3>
                <p>The game ends when a player has no valid move ‚Äî that player loses!</p>
            </div>
        </div>
    </div>

    <script src="../shared/music-manager.js"></script>
    <script src="../shared/global-controls.js"></script>
    <script src="saler-script.js?v=2"></script>
</body>